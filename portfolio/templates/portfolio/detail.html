{% extends "base.html" %}
{% block title %}{{ project.title }}{% endblock %}

{% block content %}
<div class="row">
  <div class="col-md-8 offset-md-2">

    <h1 class="mb-4">{{ project.title }}</h1>

    {% if project.image %}
      <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid rounded mb-3 shadow">
    {% endif %}

    <p class="fs-5">{{ project.description }}</p>

    {% if project.link %}
      <p>
        <a href="{{ project.link }}" target="_blank" class="btn btn-primary mt-2">üîó Visit Project</a>
      </p>
    {% endif %}

    <div class="mt-3">
      <a href="{% url 'edit_project' project.pk %}" class="btn btn-sm btn-warning">Edit Project</a>
      <a href="{% url 'delete_project' project.pk %}" class="btn btn-sm btn-danger">Delete Project</a>
      <a href="{% url 'portfolio_index' %}" class="btn btn-secondary btn-sm float-end">‚Üê Back to Projects</a>
    </div>

    <hr class="my-4">

    <h3>Comments</h3>

    {% if comments %}
      {% for comment in comments %}
        <div class="border rounded p-3 mb-3 bg-light">
          <strong>{{ comment.name }}</strong>
          <span class="text-muted small">‚Äî {{ comment.created_at|date:"M d, Y H:i" }}</span>
          <p class="mb-0">{{ comment.text }}</p>
        </div>
      {% endfor %}
    {% else %}
      <p class="text-muted">No comments yet. Be the first!</p>
    {% endif %}

    <h4 class="mt-4">Add a Comment</h4>
    <form method="post" class="mb-5">
      {% csrf_token %}
      <div class="mb-3">
        {{ form.name.label_tag }}
        {{ form.name }}
      </div>
      <div class="mb-3">
        {{ form.text.label_tag }}
        {{ form.text }}
      </div>
      <button class="btn btn-success">üí¨ Post Comment</button>
    </form>

  </div>
</div>
{% endblock %}
